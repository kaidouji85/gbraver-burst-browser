/**
 * メッセージウインドウ
 */
@media (orientation: landscape) {
  .message-window, 
  .message-window--left,
  .message-window--right,
  .message-window--near-battery-selector,
  .message-window--near-burst-button {
    --brightness: brightness(1);  /** 本カスタムプロパティはJavaScriptから変更される */
    --margin-x: max(3vw, var(--safe-area-left), var(--safe-area-right));
    box-sizing: border-box;
    display: flex;
    position: fixed;
    bottom: max(calc(var(--responsive-font-size) * 1), var(--safe-area-bottom));
    color: var(--font-color);
    font-size: var(--responsive-font-size);
    background-color: #2b2b2b;
    border: var(--dialog-border);
    border-radius: var(--dialog-border-radius);
    padding: calc(var(--responsive-font-size) * 1);
    width: calc(49vw - var(--margin-x));
    min-height: calc(var(--responsive-font-size) * 7);
    filter: var(--brightness);
  }

  .message-window {
    left: 50vw;
    transform: translate(-50%, 0);
  }

  .message-window--invisible {
    display: none;
  }

  .message-window--left {
    left: var(--margin-x);
  }

  .message-window--right {
    right: var(--margin-x);
  }

  .message-window--near-battery-selector {
    --right-margin: max(10px, var(--safe-area-right));
    right: calc(var(--right-margin) + var(--hud-ui-scale) * 220px);
  }

  .message-window--near-burst-button {
    --left-margin: max(10px, var(--safe-area-left));
    left: calc(var(--left-margin) + var(--hud-ui-scale) * 10px)
  }

  .message-window__messages-wrapper {
    flex: 1 1;
    overflow: hidden;
  }

  .message-window__paragraph {
    font-size: var(--responsive-font-size);
  }

  .message-window__next-message-icon {
    display: inline-block;
    margin-left: calc(var(--responsive-font-size) * 0.5);
    animation-name: icon-up-down;
    animation-fill-mode:backwards;
    animation-duration: 0.5s;
    animation-iteration-count:infinite;
  }

  .message-window__next-message-icon--invisible {
    display :none;
  }

  @keyframes icon-up-down {
    0% {
      transform: translateY(0%);
    }
    100% {
      transform: translateY(10%);
    }
  }
}

@media (orientation: portrait) {
  .message-window,
  .message-window--left,
  .message-window--right,
  .message-window--invisible {
    display: none;
  }
}